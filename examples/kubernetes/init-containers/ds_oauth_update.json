{
	"name":"CloverDX Data Services with oAuth2",
	"description":"CloverDX Data Services with oAuth2",
	"version":"1.0",
	"proxy":{
		"context_path":"/ds-oauth2",
		"strip_context_path":false,
		"groups":[
			{
				"name":"default-group",
				"endpoints":[
					{
						"name":"default",
						"target":"http://cloverdx-svc:8080/clover/data-service",
						"weight":1,
						"backup":false,
						"type":"HTTP",
						"inherit":true
					}
				],
				"load_balancing":
					{
						"type":"ROUND_ROBIN"
					},
				"http":{
					"connectTimeout":5000,
					"idleTimeout":60000,
					"keepAlive":true,
					"readTimeout":10000,
					"pipelining":false,
					"maxConcurrentConnections":100,
					"useCompression":true,
					"followRedirects":false
				}
			}
		]
	},
	"paths":{
		"/":[
			{
				"methods":[
					"GET"
				],
				"description":"Description of the OAuth2 Gravitee Policy",
				"enabled":true,
				"oauth2":{
					"extractPayload":false,
					"checkRequiredScopes":false,
					"modeStrict":false,
					"propagateAuthHeader":true,
					"requiredScopes":[],
					"oauthResource":"oauth"
				}
			}
		]
	},
	"visibility":"private",
	"resources":[
		{
			"name":"oauth",
			"type":"oauth2-am-resource",
			"enabled":true,
			"configuration":{
				"version":"V2_X",
				"userClaim":"sub",
				"serverURL":"http://gravitee-am-gateway-svc:8092",
				"clientId":"THE-CLIENT-ID",
				"clientSecret":"THE-CLIENT-SECRET",
				"securityDomain":"cloverdx-domain"
			}
		}
	]
}